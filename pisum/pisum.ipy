from __future__ import division,print_function
from numba import jit # inline auto compilation to C of Python code
import numba,numpy

N=1000000

@jit(nopython=True)
def pisum():
    """
    Machin formula for Pi http://mathworld.wolfram.com/PiFormulas.html
    """
    s = 0.
    for k in range(1, N+1):
        s += (-1)**(k+1)/(2*k-1)
    return 4.*s

assert numpy.isclose(numpy.pi,pisum(),rtol=1e-4)

print('--> Numba {}'.format(numba.__version__))
%timeit pisum()
