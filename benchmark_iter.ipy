from numpy.random import rand
from numba import jit # inline auto compilation to C of Python code
import numba
print('numba {}'.format(numba.__version__))
A=rand(1000000)

@jit(nopython=True)
def f(A): # declare a function
    x=0
    for i in A:
        x = 0.5*x + i % 10
        if x>1e100: #just to break loop unrolling
            break
        
%timeit f(A)
